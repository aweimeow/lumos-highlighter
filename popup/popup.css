/* Popup styles for Lumos Highlighter */

.popup-container {
    width: 300px;
    padding: 12px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #f8f9fa;
}

/* Banner styling */
.banner-container {
    text-align: center;
    margin-bottom: 8px;
}

.banner-image {
    max-width: 100%;
    height: auto;
    max-height: 40px;
}

/* Style customization interface */
.style-section {
    margin-top: 5px;
}

.style-section h2 {
    font-size: 14px;
    margin-bottom: 8px;
    color: #2c3e50;
    border-bottom: 1px solid #3498db;
    padding-bottom: 3px;
}

.style-group {
    margin-bottom: 10px;
    background: white;
    padding: 8px;
    border-radius: 6px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.style-group > label {
    display: block;
    font-weight: bold;
    margin-bottom: 4px;
    color: #34495e;
    font-size: 12px;
}

.button-row {
    display: flex;
    gap: 4px;
    margin-top: 4px;
    flex-wrap: nowrap;
    width: 100%;
    box-sizing: border-box;
}

.style-btn {
    flex: 1;
    min-width: 0;
    padding: 6px 2px;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    background: white;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 10px;
    text-align: center;
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
}

.style-btn:hover {
    border-color: #3498db;
    box-shadow: 0 2px 4px rgba(52, 152, 219, 0.2);
}

.style-btn.active {
    border-color: #3498db;
    background-color: #e8f4fd;
    box-shadow: 0 2px 6px rgba(52, 152, 219, 0.3);
    transform: translateY(-1px);
}

.style-btn.active::before {
    content: 'âœ“';
    position: absolute;
    top: 2px;
    right: 4px;
    color: #3498db;
    font-size: 10px;
    font-weight: bold;
}

.sample-text {
    display: inline-block;
    padding: 2px 4px;
    background-color: rgba(255, 235, 59, 0.4);
    border-radius: 2px;
    font-size: 9px;
    line-height: 1.1;
    color: #000;
}

/* Corner style samples */
.sample-text.rectangular {
    border-radius: 2px;
}

.sample-text.rounded {
    border-radius: 8px;
}

/* Background style samples */
.sample-text.bg-transparent {
    background-color: rgba(255, 235, 59, 0.4);
}

.sample-text.bg-underline {
    background-color: transparent;
    border-bottom: 3px solid #ffeb3b;
    padding-bottom: 1px;
}

.sample-text.bg-crayon {
    background-image: 
        repeating-linear-gradient(
            135deg,
            transparent 0px, transparent 1px,
            rgba(255, 235, 59, 0.4) 1px, rgba(255, 235, 59, 0.4) 3px,
            transparent 3px, transparent 6px,
            rgba(255, 235, 59, 0.3) 6px, rgba(255, 235, 59, 0.3) 8px,
            transparent 8px, transparent 12px
        ),
        repeating-linear-gradient(
            140deg,
            transparent 0px, transparent 2px,
            rgba(255, 235, 59, 0.35) 2px, rgba(255, 235, 59, 0.35) 4px,
            transparent 4px, transparent 8px,
            rgba(255, 235, 59, 0.25) 8px, rgba(255, 235, 59, 0.25) 10px,
            transparent 10px, transparent 15px
        ),
        repeating-linear-gradient(
            130deg,
            transparent 0px, transparent 3px,
            rgba(255, 235, 59, 0.3) 3px, rgba(255, 235, 59, 0.3) 5px,
            transparent 5px, transparent 10px,
            rgba(255, 235, 59, 0.2) 10px, rgba(255, 235, 59, 0.2) 12px,
            transparent 12px, transparent 18px
        ),
        repeating-linear-gradient(
            138deg,
            transparent 0px, transparent 1px,
            rgba(255, 235, 59, 0.25) 1px, rgba(255, 235, 59, 0.25) 2px,
            transparent 2px, transparent 5px
        );
    background-size: 8px 8px, 12px 12px, 15px 15px, 6px 6px;
    background-position: 0 0, 3px 3px, 6px 6px, 1px 1px;
}

/* Text style samples */
.sample-text.text-default {
    font-weight: normal;
}

.sample-text.text-bold {
    font-weight: bold;
}

.sample-text.text-shadow {
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

/* Mode style samples */
.sample-text.mode-instant {
    background-color: rgba(52, 152, 219, 0.4);
    color: #2c3e50;
}

.sample-text.mode-doubleclick {
    background-color: rgba(155, 89, 182, 0.4);
    color: #2c3e50;
}

/* Preview section */
.style-preview {
    margin: 8px 0;
    padding: 8px;
    background-color: #f8f9fa;
    border-radius: 4px;
    border: 1px solid #e9ecef;
}

.style-preview > label {
    font-weight: bold;
    color: #34495e;
    font-size: 11px;
    margin-bottom: 4px;
    display: block;
}

.preview-container {
    padding: 6px;
    background-color: white;
    border-radius: 3px;
    border: 1px solid #dee2e6;
    font-size: 11px;
    line-height: 1.3;
}

.preview-highlight {
    background-color: rgba(255, 255, 0, 0.3);
    padding: 2px 4px;
    border-radius: 2px;
    transition: all 0.2s ease;
}

/* Dynamic preview styles */
.preview-highlight.corner-rounded {
    border-radius: 8px;
}

.preview-highlight.bg-underline {
    background-color: transparent;
    border-bottom: 3px solid #ffeb3b;
    padding-bottom: 1px;
}

.preview-highlight.bg-crayon {
    background-image: repeating-linear-gradient(
        45deg,
        rgba(255, 255, 0, 0.3),
        rgba(255, 255, 0, 0.3) 2px,
        rgba(255, 255, 0, 0.1) 2px,
        rgba(255, 255, 0, 0.1) 4px
    );
    background-size: 8px 8px;
}

.preview-highlight.text-bold {
    font-weight: bold;
}

.preview-highlight.text-shadow {
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

/* Save button */
.save-button {
    background-color: #3498db;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    font-size: 11px;
    cursor: pointer;
    width: 100%;
    transition: background-color 0.2s ease;
    box-sizing: border-box;
    margin: 0;
}

.save-button:hover {
    background-color: #2980b9;
}

.save-button:active {
    transform: translateY(1px);
}

/* Buy me a coffee button */
.coffee-button {
    display: block;
    width: 100%;
    margin: 8px 0 0 0;
    padding: 6px 12px;
    background-color: #ffdd00;
    color: #000;
    text-decoration: none;
    border: none;
    border-radius: 4px;
    font-size: 11px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    cursor: pointer;
    text-align: center;
    transition: background-color 0.2s ease;
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
}

.coffee-button:hover {
    background-color: #ffed4e;
}

.coffee-button:active {
    transform: translateY(1px);
}

.coffee-icon {
    margin-right: 4px;
    font-size: 11px;
}

.coffee-text {
    font-size: 11px;
}

/* Fireworks animation */
@keyframes firework {
    0% {
        transform: scale(0) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: scale(2) rotate(360deg);
        opacity: 0;
    }
}

@keyframes sparkle {
    0%, 100% {
        transform: scale(0) translateY(0);
        opacity: 0;
    }
    50% {
        transform: scale(1) translateY(-20px);
        opacity: 1;
    }
}

@keyframes thankyou {
    0% {
        transform: scale(0) rotate(-10deg);
        opacity: 0;
    }
    50% {
        transform: scale(1.2) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

@keyframes thankyouOut {
    0% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: scale(0) rotate(10deg);
        opacity: 0;
    }
}

.firework {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 1000;
}

.firework.red {
    background: radial-gradient(circle, #ff6b6b, #ff4757);
    box-shadow: 0 0 10px #ff4757;
}

.firework.blue {
    background: radial-gradient(circle, #74b9ff, #0984e3);
    box-shadow: 0 0 10px #0984e3;
}

.firework.green {
    background: radial-gradient(circle, #55a3ff, #00b894);
    box-shadow: 0 0 10px #00b894;
}

.firework.yellow {
    background: radial-gradient(circle, #fdcb6e, #f39c12);
    box-shadow: 0 0 10px #f39c12;
}

.firework.purple {
    background: radial-gradient(circle, #a29bfe, #6c5ce7);
    box-shadow: 0 0 10px #6c5ce7;
}

.thank-you-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    background: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
    background-size: 400% 400%;
    animation: gradientShift 1s ease infinite;
    color: white;
    padding: 20px 30px;
    border-radius: 15px;
    font-size: 24px;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    z-index: 2000;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    pointer-events: none;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Debug Toggle Section */
.debug-section {
    position: absolute;
    top: 0;
    left: 0;
    width: 40px;
    height: 40px;
    z-index: 100;
    pointer-events: none;
}

.debug-toggle-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: visible;
}

.debug-toggle-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
}

.debug-activation-area {
    position: absolute;
    top: 0;
    left: 0;
    width: 40px;
    height: 40px;
    cursor: pointer;
    z-index: 10;
    pointer-events: all;
}

.debug-page-flip {
    position: relative;
    width: 40px;
    height: 40px;
    pointer-events: none;
    perspective: 1000px;
}

/* Paper base */
.debug-page-back {
    position: absolute;
    top: 0;
    left: 0;
    width: 40px;
    height: 40px;
    background: #f8f9fa;
    border-radius: 2px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

/* Folded corner - using real 3D flip */
.debug-page-front {
    position: absolute;
    top: 0;
    left: 0;
    width: 20px;
    height: 20px;
    background: linear-gradient(-45deg, #ffb3d9 50%, #f0f0f0 50%);
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform-origin: bottom right;
    transform: rotateX(0deg) rotateY(0deg);
    border-radius: 0 0 2px 0;
}

/* Curved shadow effect for folded corner */
.debug-page-front::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        -45deg, 
        rgba(0, 0, 0, 0.1) 0%, 
        transparent 40%, 
        transparent 60%, 
        rgba(255, 255, 255, 0.3) 100%
    );
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.4s ease;
}

/* Hover state */
.debug-activation-area:hover + .debug-page-flip .debug-page-back {
    opacity: 0.6;
}

.debug-activation-area:hover + .debug-page-flip .debug-page-front {
    opacity: 0.7;
    transform: rotateX(-5deg) rotateY(5deg);
}

.debug-activation-area:hover + .debug-page-flip .debug-page-front::after {
    opacity: 0.5;
}

/* Active state */
.debug-page-flip.flipped .debug-page-back {
    opacity: 1;
}

.debug-page-flip.flipped .debug-page-front {
    opacity: 1;
    transform: rotateX(-15deg) rotateY(15deg);
}

.debug-page-flip.flipped .debug-page-front::after {
    opacity: 1;
}

/* Page flip animation */
.debug-page-flip.flipping .debug-page-front {
    animation: pageFlip3D 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

@keyframes pageFlip3D {
    0% {
        opacity: 0;
        transform: rotateX(0deg) rotateY(0deg);
    }
    25% {
        opacity: 0.3;
        transform: rotateX(-5deg) rotateY(5deg);
    }
    50% {
        opacity: 0.6;
        transform: rotateX(-10deg) rotateY(10deg);
    }
    75% {
        opacity: 0.8;
        transform: rotateX(-12deg) rotateY(12deg);
    }
    100% {
        opacity: 1;
        transform: rotateX(-15deg) rotateY(15deg);
    }
}

/* Text styles */
.debug-text {
    position: absolute;
    top: 6px;
    left: 6px;
    font-size: 5px;
    font-weight: 700;
    color: #e91e63;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    opacity: 0;
    transition: opacity 0.3s ease 0.2s;
    pointer-events: none;
    transform: rotate(-45deg);
    transform-origin: center;
    width: 14px;
    text-align: center;
    line-height: 1;
    white-space: nowrap;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9);
    z-index: 2;
}

.debug-page-flip.flipped .debug-text {
    opacity: 1;
}